(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var r=e.i(43476),t=e.i(71645);function a({words:e=[]}){let[a,s]=(0,t.useState)(0),[l,o]=(0,t.useState)(1),[n,d]=(0,t.useState)(0),[i,c]=(0,t.useState)(5),[x,m]=(0,t.useState)(0),[g,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[f,b]=(0,t.useState)(""),y=(0,t.useRef)(null),k=(0,t.useRef)(0),v=(0,t.useRef)([]),j=(0,t.useRef)(0),w=(0,t.useMemo)(()=>{let e=Math.floor(x/3600),r=Math.floor(x%3600/60),t=x%60,a=e=>String(e).padStart(2,"0");return`${a(e)}:${a(r)}:${a(t)}`},[x]);function N(e){let r=[...e];for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[r[e],r[t]]=[r[t],r[e]]}return r}function C(){y.current&&clearInterval(y.current),y.current=setInterval(()=>{m(r=>r>0?(k.current++,k.current%i==0&&v.current.length>0&&(j.current++,j.current>=v.current.length&&(v.current=N(e),j.current=0),b(v.current[j.current])),r-1):(S(),0))},1e3)}function S(){y.current&&(clearInterval(y.current),y.current=null),u(!1),p(!1)}return((0,t.useEffect)(()=>()=>{y.current&&clearInterval(y.current)},[]),g)?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white dark:bg-slate-950 transition-colors animate-fade-in",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-2 bg-gray-100 dark:bg-slate-900",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-primary-500 to-accent-500 transition-all duration-1000 ease-linear",style:{width:`${x/(3600*a+60*l+n)*100}%`}})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center relative w-full h-full max-w-6xl mx-auto p-6",children:[(0,r.jsx)("div",{className:"absolute top-8 right-8 font-mono text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-500 dark:from-white dark:to-gray-400 opacity-50",children:w}),(0,r.jsxs)("div",{className:"relative w-full flex justify-center py-20 flex-grow items-center",children:[(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80vh] h-[80vh] bg-gradient-to-r from-primary/5 to-accent/5 blur-[120px] rounded-full animate-pulse-slow"}),(0,r.jsx)("div",{className:"word uppercase p-8 text-[15vw] md:text-[12rem] font-black text-gray-900 dark:text-white tracking-tighter leading-none relative z-10 break-words text-center drop-shadow-2xl select-none animate-scale-in",children:f})]}),(0,r.jsxs)("div",{className:"mb-12 flex gap-6 z-20",children:[(0,r.jsx)("button",{onClick:h?function(){p(!1),C()}:function(){y.current&&(clearInterval(y.current),y.current=null),p(!0)},className:`px-10 py-4 rounded-2xl font-bold text-xl shadow-lg transform transition-all active:scale-95 hover:shadow-xl focus:outline-none ring-2 ring-offset-4 ring-offset-white dark:ring-offset-slate-950 ${h?"bg-emerald-500 hover:bg-emerald-600 ring-emerald-200 dark:ring-emerald-900 text-white":"bg-white dark:bg-slate-800 text-gray-800 dark:text-white border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:h?"Resume":"Pause"}),(0,r.jsx)("button",{onClick:S,className:"px-10 py-4 rounded-2xl font-bold text-xl text-white bg-rose-500 hover:bg-rose-600 shadow-lg transform transition-all active:scale-95 hover:shadow-xl focus:outline-none ring-2 ring-offset-4 ring-offset-white dark:ring-offset-slate-950 ring-rose-200 dark:ring-rose-900",children:"End Session"})]})]})]}):(0,r.jsxs)("div",{className:"speaker-idle glass dark:glass-dark rounded-2xl shadow-xl p-8 max-w-3xl mx-auto flex flex-col items-center gap-8",children:[(0,r.jsx)("div",{className:"text-center max-w-lg",children:(0,r.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 text-lg leading-relaxed",children:["Boost your ",(0,r.jsx)("strong",{className:"text-primary-600 dark:text-primary-400",children:"active recall"}),". Words will appear sequentially for a fixed interval. Read them aloud instantly to train your fluency."]})}),(0,r.jsx)("div",{className:"w-full h-px bg-gray-200 dark:bg-gray-700/50"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-center gap-12 w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("h3",{className:"text-sm font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-4",children:"Total Duration"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 font-mono text-xl text-gray-600 dark:text-gray-300",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("input",{type:"number",value:a,onChange:e=>s(Math.max(0,parseInt(e.target.value)||0)),min:"0",className:"w-16 text-center border-b-2 border-gray-300 dark:border-gray-600 bg-transparent focus:border-primary dark:focus:border-primary-400 focus:outline-none p-2 text-2xl transition-colors"}),(0,r.jsx)("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-gray-500 mt-2",children:"Hr"})]}),(0,r.jsx)("span",{className:"text-3xl pb-6 opacity-30",children:":"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("input",{type:"number",value:l,onChange:e=>o(Math.max(0,Math.min(59,parseInt(e.target.value)||0))),min:"0",max:"59",className:"w-16 text-center border-b-2 border-gray-300 dark:border-gray-600 bg-transparent focus:border-primary dark:focus:border-primary-400 focus:outline-none p-2 text-2xl transition-colors"}),(0,r.jsx)("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-gray-500 mt-2",children:"Min"})]}),(0,r.jsx)("span",{className:"text-3xl pb-6 opacity-30",children:":"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("input",{type:"number",value:n,onChange:e=>d(Math.max(0,Math.min(59,parseInt(e.target.value)||0))),min:"0",max:"59",className:"w-16 text-center border-b-2 border-gray-300 dark:border-gray-600 bg-transparent focus:border-primary dark:focus:border-primary-400 focus:outline-none p-2 text-2xl transition-colors"}),(0,r.jsx)("span",{className:"text-[10px] uppercase font-bold text-gray-400 dark:text-gray-500 mt-2",children:"Sec"})]})]})]}),(0,r.jsx)("div",{className:"hidden md:block w-px h-24 bg-gray-200 dark:bg-gray-700/50"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("h3",{className:"text-sm font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-4",children:"Word Interval"}),(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"number",value:i,onChange:e=>c(Math.max(1,parseInt(e.target.value)||1)),min:"1",className:"w-20 text-center border-b-2 border-primary/50 dark:border-primary-400/50 bg-transparent focus:border-primary dark:focus:border-primary-400 focus:outline-none p-2 text-2xl font-bold text-primary-600 dark:text-primary-400 transition-colors"}),(0,r.jsx)("span",{className:"text-xl font-mono text-gray-400 dark:text-gray-600 pt-2",children:"seconds"})]})})]})]}),(0,r.jsx)("div",{className:"w-full h-px bg-gray-200 dark:bg-gray-700/50"}),(0,r.jsx)("button",{onClick:function(){let r=3600*a+60*l+n;r<=0||(m(r),u(!0),p(!1),v.current=N(e),j.current=0,k.current=0,b(v.current[j.current]||""),C())},disabled:0===e.length,className:"w-full md:w-auto md:px-20 py-4 rounded-xl font-black text-white text-lg shadow-lg transform transition-all active:scale-95 hover:shadow-xl focus:outline-none ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 bg-gradient-to-r from-primary-600 to-accent-600 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",children:0===e.length?"Add Words First":"Start Session"})]})}function s(){let[e,s]=(0,t.useState)(""),[l,o]=(0,t.useState)([]),n=(0,t.useRef)(null),d=(0,t.useRef)(null);(0,t.useEffect)(()=>{let e=localStorage.getItem("knownWords");e?o(JSON.parse(e)):fetch("data/defaultKnownWords.json").then(e=>e.json()).then(e=>{e&&Array.isArray(e)&&(o(e),localStorage.setItem("knownWords",JSON.stringify(e)))}).catch(e=>console.log("No default words found",e))},[]),(0,t.useEffect)(()=>{localStorage.setItem("knownWords",JSON.stringify(l))},[l]);let i=(0,t.useMemo)(()=>{if(!e)return[];let r=e.toLowerCase().match(/\b[a-z']+\b/g)||[],t={};return r.forEach(e=>{!l.includes(e)&&e.length>2&&(t[e]=(t[e]||0)+1)}),Object.entries(t).map(([e,r])=>({word:e,count:r})).sort((e,r)=>r.count-e.count).slice(0,100)},[e,l]);return(0,r.jsxs)("div",{className:"app max-w-5xl mx-auto p-6 md:p-12 text-center min-h-screen text-gray-800 dark:text-gray-100 font-sans selection:bg-purple-200 dark:selection:bg-purple-900",children:[(0,r.jsxs)("header",{className:"mb-12",children:[(0,r.jsx)("h1",{className:"text-5xl md:text-7xl font-black mb-4 tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-400 drop-shadow-sm",children:"Vocabulary Builder"}),(0,r.jsxs)("p",{className:"text-xl md:text-2xl text-gray-500 dark:text-gray-400 font-light max-w-2xl mx-auto leading-relaxed",children:["Your personal ",(0,r.jsx)("strong",{className:"font-semibold text-primary-600 dark:text-primary-400",children:"linguistic companion"}),". Extract, track, and master words from your documents."]})]}),(0,r.jsxs)("section",{className:"mb-16",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-6",children:[(0,r.jsx)("div",{className:"h-px bg-gray-200 dark:bg-slate-800 flex-1 max-w-[100px]"}),(0,r.jsx)("h2",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 dark:text-gray-500",children:"Trainer"}),(0,r.jsx)("div",{className:"h-px bg-gray-200 dark:bg-slate-800 flex-1 max-w-[100px]"})]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-200",children:"The Speaker"})}),(0,r.jsx)(a,{words:l})]}),i.length>0&&(0,r.jsxs)("div",{className:"mt-12 animate-fade-in",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6 px-2 border-b border-gray-200 dark:border-slate-800 pb-4 gap-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsxs)("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white flex items-center gap-3",children:["Words from file",(0,r.jsx)("span",{className:"text-sm font-bold bg-gray-200 dark:bg-slate-700 text-gray-600 dark:text-gray-300 px-3 py-1 rounded-full",children:i.length})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>{let e=i.map(e=>e.word);o(r=>Array.from(new Set([...r,...e])))},className:"px-4 py-2 text-sm font-bold text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors shadow-sm active:scale-95 flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Known All"]}),(0,r.jsxs)("button",{onClick:()=>{s(""),n.current&&(n.current.value="")},className:"px-4 py-2 text-sm font-bold text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-200 dark:border-red-900/50 rounded-lg transition-colors active:scale-95 flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear List"]})]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-400 italic mb-4 text-left px-2",children:["Click to ",(0,r.jsx)("strong",{className:"font-bold text-gray-500 dark:text-gray-300",children:"mark as known"})]}),(0,r.jsx)("ol",{className:"flex items-start flex-wrap gap-3 justify-center",children:i.map(e=>(0,r.jsxs)("li",{onClick:()=>{var r;return r=e.word,void o(e=>[...e,r])},className:"group relative cursor-pointer bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 shadow-sm rounded-xl px-4 py-2 hover:shadow-md hover:border-primary/30 dark:hover:border-primary/50 hover:scale-105 active:scale-95 transition-all duration-200",role:"button",children:[(0,r.jsx)("b",{className:"text-gray-700 dark:text-gray-200 font-bold group-hover:text-primary dark:group-hover:text-primary-400 transition-colors",children:e.word.toUpperCase()}),(0,r.jsx)("span",{className:"absolute -top-2 -right-2 bg-gray-100 dark:bg-slate-700 text-[10px] font-bold text-gray-500 dark:text-gray-400 px-2 py-0.5 rounded-full shadow-sm border border-white dark:border-slate-600 group-hover:bg-primary group-hover:text-white transition-colors",children:e.count})]},e.word))})]}),(0,r.jsx)("div",{className:"import mt-12 mb-12 transform transition-all hover:-translate-y-1",children:(0,r.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-3xl cursor-pointer bg-white/50 dark:bg-slate-800/50 hover:bg-white/80 dark:hover:bg-slate-800 hover:border-primary/50 dark:hover:border-primary/50 hover:shadow-lg transition-all group",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mb-4 text-gray-400 dark:text-gray-500 group-hover:text-primary transition-colors","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,r.jsxs)("p",{className:"mb-2 text-lg text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200",children:[(0,r.jsx)("span",{className:"font-semibold text-primary dark:text-primary-400",children:"Click to upload text"})," or drag and drop"]}),(0,r.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"SRT, TXT, SUB, MD"})]}),(0,r.jsx)("input",{type:"file",ref:n,onChange:e=>{let r=e.target.files?.[0];if(!r)return;let t=new FileReader;t.onload=e=>{s(e.target?.result)},t.readAsText(r)},accept:".srt,.txt,.sub,.md",className:"hidden"})]})}),l.length>0&&(0,r.jsxs)("div",{className:"mt-16 animate-fade-in pb-20",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6 px-2 border-b border-gray-200 dark:border-slate-800 pb-4 gap-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsxs)("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white flex items-center gap-3",children:["Known Words",(0,r.jsx)("span",{className:"text-sm font-bold bg-green-100 dark:bg-emerald-900/30 text-green-700 dark:text-emerald-400 px-3 py-1 rounded-full",children:l.length})]})}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[(0,r.jsxs)("label",{className:"px-4 py-2 text-sm font-bold text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer transition-colors shadow-sm active:scale-95 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Import JSON",(0,r.jsx)("input",{type:"file",ref:d,onChange:e=>{let r=e.target.files?.[0];if(!r)return;let t=new FileReader;t.onload=e=>{try{let r=JSON.parse(e.target?.result);Array.isArray(r)&&o(e=>Array.from(new Set([...e,...r])))}catch(e){alert("Invalid JSON file")}},t.readAsText(r)},accept:".json",className:"hidden"})]}),(0,r.jsxs)("button",{onClick:()=>{let e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(l)),r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download","known_words.json"),document.body.appendChild(r),r.click(),r.remove()},className:"px-4 py-2 text-sm font-bold text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg transition-colors shadow-sm active:scale-95 flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export"]}),(0,r.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to forget all known words?")&&o([])},className:"px-4 py-2 text-sm font-bold text-white bg-red-500 hover:bg-red-600 rounded-lg transition-colors shadow-sm active:scale-95 flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Forget All"]})]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-400 italic mb-4 text-left px-2",children:["Click to ",(0,r.jsx)("strong",{className:"font-bold text-gray-500 dark:text-gray-300",children:"remove"})]}),(0,r.jsx)("ul",{className:"flex flex-wrap gap-2 justify-center",children:l.map(e=>(0,r.jsxs)("li",{onClick:()=>{o(r=>r.filter(r=>r!==e))},className:"cursor-pointer flex items-center gap-2 bg-green-50/50 dark:bg-emerald-900/20 border border-transparent rounded-lg px-3 py-1.5 text-sm font-medium text-green-700 dark:text-emerald-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 hover:border-red-200 dark:hover:border-red-800 transition-colors duration-200 group",role:"button",children:[e.toUpperCase(),(0,r.jsx)("svg",{className:"w-3 h-3 opacity-50 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]},e))})]})]})}e.s(["default",()=>s],31713)}]);